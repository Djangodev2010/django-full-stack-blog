{% extends "base.html" %}

{% block body %}
<div class="container">
	<div class="row">
		<main class="col-md-8 blog-main">
			<article class="blog-post">
				<h2 class="blog-post-title">{{ blog.title }}</h2>
				<p class="blog-post-meta">By {{ blog.author.get_full_name|default:blog.author.username }} • {{ blog.created_at|date:"F j, Y" }} • <a href="{% url 'blog_app:posts_by_category' pk=blog.category.id %}">{{ blog.category.category_name }}</a></p>

				{% if blog.featured_image %}
				<img src="{{ blog.featured_image.url }}" class="img-fluid rounded mb-4" alt="{{ blog.title }}">
				{% endif %}

				<div class="blog-content">
					{{ blog.blog_body|linebreaks }}
				</div>
			</article>
		</main>

		<aside class="col-md-4 blog-sidebar">
			<div class="p-3 mb-3 bg-light rounded">
				<h4 class="font-italic">About</h4>
				<p class="mb-0">{{blog.short_description}}</p>
			</div>

			<div class="p-3">
				<h4 class="font-italic">More in {{ blog.category.category_name }}</h4>
				<ol class="list-unstyled mb-0">
					{% for similar_blog in similar_blogs %}
						<li><a href="{% url 'blog_app:blog_detail' slug=similar_blog.slug %}">{{ similar_blog.title }}</a></li>
					{% empty %}
						<li>No other posts.</li>
					{% endfor %}
				</ol>
			</div>
		</aside>
	</div>
</div>

{% endblock body %}
